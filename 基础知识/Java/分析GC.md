不可能三角：

1. 吞吐量：吞吐量=运行用户代码时间/（运行用户代码时间+垃圾回收时间）
2. 收集停顿时间
3. 内存占用

Parallel Scavenge垃圾收集器目标是控制吞吐量

G1垃圾收集器目标是停顿时间可控的情况下追求高吞吐量

ZGC/Shenandoah的目标类似，都是尽可能不影响吞吐量的同时，实现在任意堆内存大小下都可以停顿时间控制在10ms以内。9



> 一般来说，吞吐量越大，停顿时间越久。因为吞吐量是在长范围下考虑效率，停顿时间只考虑当前效率和反应速度。



>停顿时间减小的策略可能更多地使用并发处理，可能导致并发处理速度大幅度降低，导致总速度降低，总吞吐量降低。



PS(Parallel Scavenge)通过提供两个参数`最大垃圾收集停顿时间`和`最小垃圾收集停顿时间`来控制吞吐量

垃圾收集停顿时间缩小是以牺牲`吞吐量`和`新生代空间`为代价换取的，为了停顿时间缩小==》新生代空间缩小==》垃圾区变小==》停顿时间缩小==》停顿的频率增加==》总体吞吐量减小

一味的降低停顿时间，也会使G1收集器每次选出的回收集只占堆内存的一小部分，收集器速度逐渐跟不上分配器的分配速度，导致垃圾堆积，最终导致Full GC反而降低性能。所以一般设置100-300ms左右比较合理。



并发标记标记的是需要保留的对象，不是垃圾。

在G1之前的垃圾回收器，要么不回收，要么老年代/年轻代全局回收。G1使用了region的思想。